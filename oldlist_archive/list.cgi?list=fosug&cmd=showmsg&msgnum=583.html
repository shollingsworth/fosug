<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<link href="../list/browse.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="list.cgi%3Flist=fosug&amp;cmd=feed&amp;feedtype=rss2" />
<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="list.cgi%3Flist=fosug&amp;cmd=feed&amp;feedtype=atom" />
<title>fosug: My first bash shell script</title>
<meta NAME="robots" CONTENT="noindex">
<meta NAME="robots" CONTENT="nofollow">
<base href="">
</head>
<body class=msg-body>
<div class=menubar>
<a class="menu-lists" href="list.cgi.html">[Lists]</a>
<a class="menu-config" href="list.cgi%3Flist=fosug&amp;cmd=configure.html">[Configure]</a>
<a class="menu-first" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200410.html">[<<]</a>
<a class="menu-prev" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200508.html">[<]</a>
<a class="menu-bythread" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200509.html">[by Thread]</a>
<a class="menu-bydate" href="list.cgi%3Flist=fosug&amp;cmd=monthbydate&amp;month=200509.html">[by Date]</a>
<a class="menu-next" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200510.html">[>]</a>
<a class="menu-last" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200607.html">[>>]</a>
<a class="menu-months" href="list.cgi%3Flist=fosug&amp;cmd=months.html">[Months]</a>
<a class="menu-search" href="list.cgi%3Flist=fosug&amp;cmd=search.html">[Search]</a>
<a class="menu-subscribe" href="mailto:fosug-subscribe@fosug.org?subject=Just click SEND">[eSubscribe]</a>
<a class="feed-link" href="list.cgi%3Flist=fosug&amp;cmd=feed">[Feed]</a>
</div>
<hr>
<div class=msg-title><h1>fosug: My first bash shell script</h1></div>
<hr>
<div class=msg><table class=msgmenu>

<tr class=msgmenu-prevbydate>
<td class=msgmenu-label>Previous by date:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=582.html">Re: Meeting Canceled</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=icnjocoehjfdjalcjpbn.html">Drew Baker</a></td>
</tr>

<tr class=msgmenu-nextbydate>
<td class=msgmenu-label>Next by date:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=584.html">Re: My first bash shell script</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=kllfcpgdhhehicjdgkme.html">Robert Nickel</a></td>
</tr>

<tr class=msgmenu-prevbythread>
<td class=msgmenu-label>Previous in thread:</td>
<td class=msgmenu-value></td>
</tr>

<tr class=msgmenu-nextbythread>
<td class=msgmenu-label>Next in thread:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=584.html">Re: My first bash shell script</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=kllfcpgdhhehicjdgkme.html">Robert Nickel</a></td>
</tr>

</table>
<hr><b>Subject:</b>
<a href="mailto:fosug@fosug.org?subject=Re: My first bash shell script">My first bash shell script</a>
<br><b>From:</b>
<a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=phnejcnpkfifbncbfgmj&amp;month=200509.html">Joel Searcy ####@####.####</a>
<br><b>Date:</b>
18 Sep 2005 08:52:28 -0000
<br><b>Message-Id:</b> &lt;20050918085225.42641.qmail@web51810.mail.yahoo.com&gt;
<br>
<hr><pre>Hey guys tonight during my spare time at work I
finally finished my first useful bash shell script for
automating log file backups to another direcotry.  I
would like your opinions and if you have any
suggestions or ideas as how to improve it or problems
with the syntax please feel free to point it out.  I
put multiple controls in case something went wrong it
wouldn't automatically erase the log file and tried to
use standard naming conventions.


#log backup script, run as root on a nightly basis @
midnight
#!/bin/bash

LOGBACK=/logbackups
LOGDIR=/var/log
CURDATE=$(date +%Y.%m.%d.)
CURTIME=$(date +%T)
ROOT_UID=0
LOG_MES=messages
LOG_SEC=secure

if [ &quot;$UID&quot; -ne &quot;$ROOT_UID&quot; ]
then
  echo &quot;This script must be run as root!!!&quot;
exit
fi

cat $LOGDIR/$LOG_MES &gt;
$LOGBACK/$LOG_MES/$CURDATE$LOG_MES
cat $LOGDIR/$LOG_SEC &gt;
$LOGBACK/$LOG_SEC/$CURDATE$LOG_SEC




if [ $LOGBACK/$LOG_MES/$CURDATE$LOG_SEC ]
then
        echo &quot;&quot;$CURDATE$CURTIME&quot;Backup successful for
/var/log/messages&quot; &gt; $LOGDIR/logbackup.sh.log
cat /dev/null &gt; $LOGDIR/$LOG_MES
else
        echo &quot;&quot;$CURDATE$CURTIME&quot;There was an error
during script logbackup.sh, could not verify backup of
logfile /var/log/messages, file &quot;$\
CURDATE$LOG_MES&quot; does not exist&quot;
exit
fi



if [ $LOGBACK/$LOG_SEC/$CURDATE$LOG_SEC ]
then
        echo &quot;&quot;$CURDATE$CURTIME&quot;Backup successful for
/var/log/secure&quot; &gt; $LOGDIR/logbackup.sh.log
cat /dev/null &gt; $LOGDIR/$LOG_SEC
else
        echo &quot;&quot;$CURDATE$CURTIME&quot;There was an error
during script logbcak.sh, could not verify backup of
logfile /var/log/secure, file &quot;$CURD\
ATE$LOG_MES&quot; does not exist&quot;
exit
fi



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<a href="http://mail.yahoo.com">http://mail.yahoo.com</a> 
</pre>

<hr><table class=msgmenu>

<tr class=msgmenu-prevbydate>
<td class=msgmenu-label>Previous by date:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=582.html">Re: Meeting Canceled</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=icnjocoehjfdjalcjpbn.html">Drew Baker</a></td>
</tr>

<tr class=msgmenu-nextbydate>
<td class=msgmenu-label>Next by date:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=584.html">Re: My first bash shell script</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=kllfcpgdhhehicjdgkme.html">Robert Nickel</a></td>
</tr>

<tr class=msgmenu-prevbythread>
<td class=msgmenu-label>Previous in thread:</td>
<td class=msgmenu-value></td>
</tr>

<tr class=msgmenu-nextbythread>
<td class=msgmenu-label>Next in thread:</td>
<td class=msgmenu-value>18 Sep 2005 08:52:28 -0000 <a class="subject" href="list.cgi%3Flist=fosug&amp;cmd=showmsg&amp;msgnum=584.html">Re: My first bash shell script</a>, <a class="author" href="list.cgi%3Flist=fosug&amp;cmd=author&amp;authorid=kllfcpgdhhehicjdgkme.html">Robert Nickel</a></td>
</tr>

</table>
</div><hr><div class=menubar>
<a class="menu-lists" href="list.cgi.html">[Lists]</a>
<a class="menu-config" href="list.cgi%3Flist=fosug&amp;cmd=configure.html">[Configure]</a>
<a class="menu-first" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200410.html">[<<]</a>
<a class="menu-prev" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200508.html">[<]</a>
<a class="menu-bythread" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200509.html">[by Thread]</a>
<a class="menu-bydate" href="list.cgi%3Flist=fosug&amp;cmd=monthbydate&amp;month=200509.html">[by Date]</a>
<a class="menu-next" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200510.html">[>]</a>
<a class="menu-last" href="list.cgi%3Flist=fosug&amp;cmd=monthbythread&amp;month=200607.html">[>>]</a>
<a class="menu-months" href="list.cgi%3Flist=fosug&amp;cmd=months.html">[Months]</a>
<a class="menu-search" href="list.cgi%3Flist=fosug&amp;cmd=search.html">[Search]</a>
<a class="menu-subscribe" href="mailto:fosug-subscribe@fosug.org?subject=Just click SEND">[eSubscribe]</a>
<a class="feed-link" href="list.cgi%3Flist=fosug&amp;cmd=feed">[Feed]</a>
</div>

<hr>
<div class=versioninfo>
Powered by
<a href="http://untroubled.org/ezmlm-browse/">ezmlm-browse 0.10</a>.
</div>
</body>
</html>
